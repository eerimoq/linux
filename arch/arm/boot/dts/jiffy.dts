/*
 * Jiffy R1 - J. Persson <jonpe960@gmail.com>
 */

/dts-v1/;

#include "imx6ul-jiffy.dtsi"

/ {
        model = "Jiffy";
        compatible = "fsl,imx6ul-14x14-evk", "fsl,imx6ul";

        chosen {
                bootargs = "console=ttymxc1,115200 ";
                linux,initrd-start = <0x00000000>;
                linux,initrd-end = <0x00000000>;
                stdout-path = &uart2;
        };

        memory@80000000 {
		device_type = "memory";
                reg = <0x80000000 0x8000000>;
        };

        regulators {
                compatible = "simple-bus";
                #address-cells = <1>;
                #size-cells = <0>;


        };

        onewire {
                compatible = "w1-gpio";
                gpios = <&gpio1 4 GPIO_ACTIVE_HIGH>;
        };
};

&clks {
        assigned-clocks = <&clks IMX6UL_CLK_PLL4_AUDIO_DIV>;
        assigned-clock-rates = <786432000>;
};

&fec1 {
        pinctrl-names = "default";
        pinctrl-0 = <&pinctrl_enet1>;
        phy-mode = "rmii";
        phy-handle = <&ethphy0>;
        phy-reset-gpios = <&gpio1 22 GPIO_ACTIVE_LOW>;
        phy-reset-duration = <10>;
        phy-reset-post-delay = <1>;
        status = "okay";
        mac-address = [5e fd f9 ca b5 3e];
        mdio {
                #address-cells = <1>;
                #size-cells = <0>;

                ethphy0: ethernet-phy@1 {
                        reg = <1>;
            status = "okay";
                };

        };

};

&snvs_poweroff {
        status = "okay";
};

&uart2 {
        pinctrl-names = "default";
        pinctrl-0 = <&pinctrl_uart2>;
        status = "okay";
};

&usdhc1 {
        pinctrl-names = "default";
        pinctrl-0 = <&pinctrl_usdhc1>;
        bus-width = <8>;
        no-1-8-v;
        non-removable;
        keep-power-in-suspend;
        no-sdio;
        no-sd;
        status = "okay";
};

&wdog1 {
        status = "okay";
};

&iomuxc {
        pinctrl-names = "default";
        pinctrl_enet1: enet1grp {
                fsl,pins = <
                        MX6UL_PAD_GPIO1_IO07__ENET1_MDC		0x1b0b0
                        MX6UL_PAD_GPIO1_IO06__ENET1_MDIO	0x1b0b0
                        MX6UL_PAD_ENET1_RX_EN__ENET1_RX_EN	0x1b0b0
                        MX6UL_PAD_ENET1_RX_ER__ENET1_RX_ER	0x1b0b0
                        MX6UL_PAD_ENET1_RX_DATA0__ENET1_RDATA00	0x1b0b0
                        MX6UL_PAD_ENET1_RX_DATA1__ENET1_RDATA01	0x1b0b0
                        MX6UL_PAD_ENET1_TX_EN__ENET1_TX_EN	0x1b0b0
                        MX6UL_PAD_ENET1_TX_DATA0__ENET1_TDATA00	0x1b0b0
                        MX6UL_PAD_ENET1_TX_DATA1__ENET1_TDATA01	0x1b0b0
                        MX6UL_PAD_ENET1_TX_CLK__ENET1_REF_CLK1	0x4001b031
                        // MX6UL_PAD_UART2_CTS_B__GPIO1_IO22	0x17059
                >;
        };

        pinctrl_uart2: uart2grp {
                fsl,pins = <
                        MX6UL_PAD_UART2_TX_DATA__UART2_DCE_TX	0x1b0b1
                        MX6UL_PAD_UART2_RX_DATA__UART2_DCE_RX	0x1b0b1
                >;
        };

        pinctrl_usdhc1: usdhc1grp {
                fsl,pins = <
                        MX6UL_PAD_SD1_CMD__USDHC1_CMD     0x170f9
                        MX6UL_PAD_SD1_CLK__USDHC1_CLK     0x100f9
                        MX6UL_PAD_SD1_DATA0__USDHC1_DATA0 0x170f9
                        MX6UL_PAD_SD1_DATA1__USDHC1_DATA1 0x170f9
                        MX6UL_PAD_SD1_DATA2__USDHC1_DATA2 0x170f9
                        MX6UL_PAD_SD1_DATA3__USDHC1_DATA3 0x170f9
                        MX6UL_PAD_NAND_READY_B__USDHC1_DATA4 0x170f9
                        MX6UL_PAD_NAND_CE0_B__USDHC1_DATA5 0x170f9
                        MX6UL_PAD_NAND_CE1_B__USDHC1_DATA6 0x170f9
                        MX6UL_PAD_NAND_CLE__USDHC1_DATA7 0x170f9
                >;
        };
};
